<html>
<head>
<style>
body {
    background-color: rgb(184, 188, 209);
}
#gradient-display {
	margin: 20px auto 20px 0;
	width: 600px;
	height: 30px;
}

td {
   padding: 20px;
}

iframe {
    margin-left: 20px;
    width: 90%;
}
</style>
</head>

<body>
    <h2>Try experimenting with your own gradient maps or your own website.</h2>
	<table>
		<tr>
			<td>
    			<h3>Some sample gradients:</h3>
			    <ul>
			        <li><input type="button" data-gradient="black, white" onclick="doGMShortcut(this, event)" value="Black &amp; White"/>
			        <li><input type="button" data-gradient="black, gray 60%, white" onclick="doGMShortcut(this, event)" value="Black &amp; White (Darken mid-tones)"/></li>
			        <li><input type="button" data-gradient="black 10%, white 90%" onclick="doGMShortcut(this, event)" value="High Contrast Black &amp; White"/></li>
			        <li><input type="button" data-gradient="white, black" onclick="doGMShortcut(this, event)" value="X-Ray"/></li>
			        <li><input type="button" data-gradient="black, white, black, white" onclick="doGMShortcut(this, event)" value="Double Black &amp; White"/></li>
			        <li><input type="button" data-gradient="rgb(100, 48, 33), white" onclick="doGMShortcut(this, event)" value="Sepia"/></li>
			        <li><input type="button" data-gradient="rgb(239, 13, 13) 10%, rgb(244, 219, 10) 90%" onclick="doGMShortcut(this, event)" value="Sunset"/></li>
			        <li><input type="button" data-gradient="black, blue 10%, white, black, white" onclick="doGMShortcut(this, event)" value="Bizarre"/></li>
			    </ul>
			</td>
			<td>
			    <form style="margin-top: 20px">
			        <label for="colorGradient">Color Gradient: </label>
			        <input type="text" size="100" id="colorGradient"  value="black, blue 10%, white, black, white" onkeypress="stopReload(event)"/>
			        <button onclick="docalc(event)">Apply Gradient Map to IFrame</button>
			    </form>
    
			    <div id="gradient-display"></div>
			    <form style="margin-top: 20px">
			        <label for="iFrameUrl">IFrame URL: </label>
			        <input type="text" size="100" id="iFrameUrl" value="http://commons.wikimedia.org/wiki/File:Bristol_Balloon_Fiesta_ascent.ogv" onkeypress="stopReload(event)"/>
        
			        <input type="button" value="Reload IFrame" onclick="reloadIFrame()" />
			    </form>
			</td>
		</tr>
	</table>

	<iframe id="target" src="http://commons.wikimedia.org/wiki/File:Bristol_Balloon_Fiesta_ascent.ogv" width="800px" height="600px"></iframe>
    
    <script src="../gradientmaps.min.js"></script>
    
    <script>
        function docalc(e) {
            var target = document.getElementById('target');
            var gradient = document.getElementById('colorGradient').value;
            GradientMaps.applyGradientMap(target, gradient);
        
            var gradientDisplay = document.getElementById('gradient-display');
            gradientDisplay.style['background'] = 
                '-webkit-linear-gradient(left,' + gradient + ')';
                
            e.preventDefault();
        }
        
        function reloadIFrame() {
            var url = document.getElementById('iFrameUrl').value;
            if (url.indexOf('http://') != 0) {
                // Simple but effective for demo purposes
                url = 'http://' + url;
            }
            document.getElementById('target').src = url;
        }
        
        function stopReload(e) {
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            if (keyCode == '13'){
              // Enter pressed
              e.preventDefault();
            }        
        }
        
        function doGMShortcut(btn, e) {
            var gm = btn.dataset['gradient'];
            colorGradient.value = gm;
            docalc(e);
            e.preventDefault();
        }
        
    </script>
</body>
</html>
